// JavaScript code (scripts.js)
document
  .getElementById("upload-form")
  .addEventListener("submit", function (event) {
    event.preventDefault(); // Prevent form from submitting

    var formData = new FormData(); // Create a new FormData object
    var fileInput = document.getElementById("file-input").files[0]; // Get the selected file

    // Append the file to FormData object
    formData.append("file", fileInput);

    // Make an AJAX request to the server
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "/upload", true); // Define the POST endpoint

    // Define what happens when the request is completed
    xhr.onload = function () {
      if (xhr.status === 200) {
        // Display success message if the request is successful
        document.getElementById("message").textContent =
          "File uploaded successfully!";
      } else {
        // Display error message if the request fails
        document.getElementById("message").textContent =
          "Error uploading file. Please try again.";
      }
    };

    // Send the FormData object to the server
    xhr.send(formData);
  });
